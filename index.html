<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>مملكة الأصليات – المحل: جنه – المهندس محمود أبو كشك</title>
<style>
body { font-family: Tahoma, sans-serif; background-color:#f9f9f9; margin:0; padding:20px; text-align:center;}
.logo {background:#25d366; color:white; font-size:22px; font-weight:bold; padding:15px; border-radius:10px; margin-bottom:20px; display:inline-block; box-shadow:0 2px 5px rgba(0,0,0,0.2);}
.product {background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px; margin:15px; display:inline-block; vertical-align:top; width:220px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.product img {width:100%; border-radius:5px;}
.name {font-size:18px; margin:10px 0; color:#333;}
.price {font-size:16px; color:#e91e63; margin:10px 0;}
.button {background-color:#25d366; color:white; padding:8px 12px; border:none; border-radius:5px; font-size:14px; cursor:pointer; margin:3px;}
.new-product {color:red; font-weight:bold; margin-bottom:5px;}
.cart-btn {background-color:#ff5722;}
</style>

<!-- منع الكاش لتحديث تلقائي -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

</head>
<body>

<div class="logo">
🌟 مملكة الأصليات – المحل: جنه – المهندس محمود أبو كشك 🌟
</div>

<h1>منتجات مملكة الأصليات</h1>

<!-- مربع الباسورد -->
<input type="password" id="password" placeholder="ادخل الباسورد 🔥" />
<button class="button" onclick="showPrices()">اعرض الأسعار</button>

<div id="products-container"></div>
<br>
<button class="button cart-btn" onclick="sendCart()">تم – إرسال السلة</button>

<script>
// الباسورد
const correctPassword = "7777";

// المنتجات (العربي للعرض، الإنجليزي لاسم الصور)
const products = [
  { name: "سماعة الوان", image: "samaa_alwan.jpg", price: 11, isNew:true, dateAdded: new Date() },
  { name: "سماعة ايفون", image: "samaa_iphone.jpg", price: 65, isNew:true, dateAdded: new Date() },
  { name: "سماعة بلو 21", image: "samaa_blue21.jpg", price: 35 },
  { name: "سماعة سامسونج", image: "samaa_samsung.jpg", price: 35 },
  { name: "شاحن التر 02 تايب سي", image: "charger_02.jpg", price: 65 },
  { name: "شاحن واو تايب سي", image: "charger_wao.jpg", price: 28 },
  { name: "كابل الك 31", image: "cable_k31.jpg", price: 40 },
  { name: "كابل دليفن تايب سي", image: "cable_delven_typc.jpg", price: 11 }
];

let cart = [];

// عرض المنتجات
function renderProducts(){
    const container = document.getElementById("products-container");
    container.innerHTML = "";
    const today = new Date();
    products.forEach((product,index) => {
        let newLabel = "";
        if(product.isNew){
            // عرض المنتج الجديد لمدة 20 يوم في البداية
            const diffDays = Math.floor((today - new Date(product.dateAdded)) / (1000*60*60*24));
            if(diffDays <= 20) newLabel = '<div class="new-product">منتج جديد</div>';
        }
        container.innerHTML += `
        <div class="product">
            ${newLabel}
            <img src="${product.image}" alt="${product.name}" />
            <div class="name">${product.name}</div>
            <div class="price" id="price-${index}">ادخل الباسورد واضغط اعرض الأسعار</div>
            <input type="number" id="qty-${index}" min="1" value="1" style="width:50px;" />
            <button class="button" onclick="orderNow(${index})">اطلب الآن</button>
            <button class="button cart-btn" onclick="addToCart(${index})">أضف إلى السلة</button>
        </div>`;
    });
}

// اظهار الاسعار بعد الباسورد
function showPrices(){
    const pwd = document.getElementById("password").value;
    products.forEach((product,index)=>{
        const priceDiv = document.getElementById("price-"+index);
        if(pwd === correctPassword){
            priceDiv.innerHTML = `السعر: ${product.price} جنيه`;
        }else{
            priceDiv.innerHTML = "السعر مخفي 🔒";
        }
    });
}

// اطلب الآن
function orderNow(index){
    const pwd = document.getElementById("password").value;
    let msg = `المنتج: ${products[index].name}`;
    if(pwd === correctPassword){
        msg += `\nالسعر: ${products[index].price} جنيه`;
    }
    const phone = "201022495795"; // الرقم الرئيسي بصيغة +20
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
}

// اضف الى السلة
function addToCart(index){
    const qty = parseInt(document.getElementById("qty-"+index).value);
    const existing = cart.find(item => item.index === index);
    if(existing){
        existing.qty += qty;
    }else{
        cart.push({index:index, name:products[index].name, price:products[index].price, qty:qty});
    }
    alert("تم إضافة المنتج للسلة");
}

// ارسال السلة كاملة
function sendCart(){
    if(cart.length===0){ alert("السلة فارغة!"); return; }
    const pwd = document.getElementById("password").value;
    let msg = "فاتورة المنتجات:\n";
    cart.forEach(item=>{
        msg += `${item.name} x${item.qty}`;
        if(pwd === correctPassword){
            msg += ` - ${item.price*item.qty} جنيه`;
        }
        msg += "\n";
    });
    const phone = "201022497595"; // الرقم الرئيسي بصيغة +20
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
    cart = [];
}

// عرض المنتجات عند التحميل
renderProducts();

</script>
</body>
</html>

