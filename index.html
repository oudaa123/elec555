<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
<style>
  :root {
    --primary-color: #1a237e;
    --secondary-color: #3f51b5;
    --accent-color: #f44336;
    --success-color: #4CAF50;
    --warning-color: #FF9800;
    --light-bg: #f3f7ff;
    --white: #ffffff;
    --shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  
  * {
    box-sizing: border-box;
  }
  
  body {
    background: var(--light-bg);
    font-family: "Tahoma", sans-serif;
    padding: 20px;
    margin: 0;
    line-height: 1.6;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--white);
    border-radius: 15px;
    padding: 25px;
    box-shadow: var(--shadow);
  }

  h2 {
    font-size: 32px;
    margin-bottom: 20px;
    color: var(--primary-color);
    text-align: center;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--light-bg);
  }

  .search-section {
    background: #e3f2fd;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
  }

  .search-container {
    position: relative;
    margin-bottom: 15px;
  }

  #search {
    width: 100%;
    padding: 18px 20px;
    font-size: 22px;
    border: 2px solid var(--secondary-color);
    border-radius: 12px;
    outline: none;
    transition: all 0.3s;
  }

  #search:focus {
    box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
  }

  .search-icon {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 24px;
    color: var(--secondary-color);
  }

  .search-info {
    text-align: center;
    color: var(--primary-color);
    font-size: 18px;
    margin-top: 10px;
  }

  .models-container {
    margin: 25px 0;
    transition: all 0.3s ease;
  }

  .models-container.hidden {
    display: none;
  }

  .models-title {
    font-size: 24px;
    color: var(--primary-color);
    margin-bottom: 15px;
    text-align: center;
  }

  .models-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 12px;
    margin-bottom: 25px;
  }

  .model-btn {
    background: var(--secondary-color);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 8px;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
  }

  .model-btn:hover {
    background: #303f9f;
    transform: translateY(-2px);
  }

  .model-btn.active {
    background: var(--success-color);
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
  }

  .back-btn {
    background: var(--warning-color);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 20px;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
    margin: 15px 0;
    display: none;
  }

  .back-btn:hover {
    background: #F57C00;
  }

  .back-btn.visible {
    display: block;
  }

  .selected-model-title {
    font-size: 26px;
    color: var(--primary-color);
    text-align: center;
    margin: 20px 0;
    padding: 15px;
    background: #e8f5e9;
    border-radius: 10px;
    display: none;
  }

  .selected-model-title.visible {
    display: block;
  }

  .search-title {
    font-size: 26px;
    color: var(--primary-color);
    text-align: center;
    margin: 20px 0;
    padding: 15px;
    background: #e3f2fd;
    border-radius: 10px;
    display: none;
  }

  .search-title.visible {
    display: block;
  }

  .results-container {
    background: var(--white);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--shadow);
    max-height: 600px;
    overflow-y: auto;
  }

  #results {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  #results li {
    background: var(--white);
    padding: 20px;
    border-bottom: 1px solid #eaeaea;
    font-size: 22px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
  }

  #results li:hover {
    background: #f9f9f9;
  }

  #results li:last-child {
    border-bottom: none;
  }

  .model-info {
    display: flex;
    align-items: center;
    flex: 1;
  }

  .model-icon {
    margin-left: 15px;
    color: var(--success-color);
    font-size: 24px;
  }

  .delete-btn {
    background: var(--accent-color);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 18px;
    cursor: pointer;
    font-size: 18px;
    transition: all 0.3s;
    white-space: nowrap;
  }

  .delete-btn:hover {
    background: #d32f2f;
    transform: translateY(-2px);
  }

  .no-results {
    text-align: center;
    color: #757575;
    font-size: 22px;
    padding: 40px 20px;
  }

  .search-results-count {
    background: #e8eaf6;
    padding: 10px 15px;
    border-radius: 8px;
    margin: 10px 0;
    text-align: center;
    font-size: 18px;
    color: var(--primary-color);
  }

  .password-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
  }

  .password-modal.active {
    display: flex;
  }

  .password-content {
    background: var(--white);
    padding: 30px;
    border-radius: 12px;
    width: 90%;
    max-width: 500px;
    box-shadow: var(--shadow);
  }

  .password-content h3 {
    margin-top: 0;
    color: var(--primary-color);
    text-align: center;
    font-size: 26px;
  }

  .password-input {
    width: 100%;
    padding: 15px;
    font-size: 20px;
    border: 2px solid #ddd;
    border-radius: 8px;
    margin: 20px 0;
    text-align: center;
  }

  .password-buttons {
    display: flex;
    justify-content: space-between;
  }

  .password-btn {
    padding: 12px 25px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    transition: all 0.3s;
  }

  .confirm-btn {
    background: var(--secondary-color);
    color: white;
  }

  .confirm-btn:hover {
    background: #303f9f;
  }

  .cancel-btn {
    background: #e0e0e0;
    color: #333;
  }

  .cancel-btn:hover {
    background: #d6d6d6;
  }

  @media (max-width: 768px) {
    .container {
      padding: 15px;
    }
    
    h2 {
      font-size: 28px;
    }
    
    #search {
      font-size: 20px;
      padding: 15px;
    }
    
    .models-grid {
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 10px;
    }
    
    .model-btn {
      font-size: 16px;
      padding: 10px 5px;
    }
    
    #results li {
      font-size: 20px;
      flex-direction: column;
      align-items: flex-start;
    }
    
    .delete-btn {
      margin-top: 15px;
      align-self: flex-end;
      width: 100%;
      text-align: center;
    }
    
    .password-content {
      padding: 20px;
    }
  }
</style>
</head>

<body>
<div class="container">
  <h2>ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø¬Ø±Ø§Ø¨</h2>

  <div class="search-section">
    <div class="search-container">
      <span class="search-icon">ğŸ”</span>
      <input type="text" id="search" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ù‡Ù†Ø§ Ù…Ø«Ù„ A15 ...">
    </div>
    <div class="search-info">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„</div>
  </div>

  <button class="back-btn" id="backToModels">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª</button>

  <div class="selected-model-title" id="selectedModelTitle">
    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
  </div>

  <div class="search-title" id="searchTitle">
    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
  </div>

  <div class="models-container" id="modelsContainer">
    <h3 class="models-title">Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:</h3>
    <div class="models-grid" id="modelsGrid">
      <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>
  </div>

  <div class="results-container">
    <div class="search-results-count" id="resultsCount" style="display: none;">
      <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>
    <ul id="results"></ul>
  </div>
</div>

<div class="password-modal" id="passwordModal">
  <div class="password-content">
    <h3>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù„Ø­Ø°Ù</h3>
    <input type="password" class="password-input" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
    <div class="password-buttons">
      <button class="password-btn cancel-btn" id="cancelDelete">Ø¥Ù„ØºØ§Ø¡</button>
      <button class="password-btn confirm-btn" id="confirmDelete">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</button>
    </div>
  </div>
</div>

<script>
// Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
let products = [
  { type: "Ø¬Ø±Ø§Ø¨ Ø­Ø±ÙŠÙ…ÙŠ Ù„Ø¨ÙˆØ¨Ùˆ", models: ["apoo a55", "a5 pro", "ip 14 pro max", "a16", "a15 opoo", "ip 13 pro max", "a12", "reno 6", "ip13", "c21y", "note 13f", "smart 50", "y9 prim", "a25 sm", "a21s", "smart 8", "mi note8", "mi a3", "c63", "reno 12f", "a26", "a16 sm", "a56 sm", "ip 11", "a12 sm", "a3x", "mi 14c", "redmi 13", "c21y", "c75", "mi 13c", "sm a16", "mi a3", "relme 13 5g", "sm a56", "relme13 4g", "reno 14", "sm a26", "opoo a15", "reno 13 f", "c63", "smart 9", "smart 8", "sm 06", "reno 14 pro", "a05s", "13c", "a35", "a18"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¬Ù„Ø¯ Ù…ØµØ±ÙŠ", models: ["a15 sm", "a10s", "reno 5", "y6 -2019", "c11-2021", "a58", "y7 2019", "relme 14", "c53", "a36 sm", "smart9", "14 c", "a1 k", "relme 14 pro plus", "f9", "13c", "y9 2019", "a3x opo", "a06 sm", "ip 6+", "a13", "ip7+", "vivo y04", "ip 11 pro max", "x max", "ip x", "ip 15 pro max", "ip 16 pro max", "mi a5", "a3x opo", "op 5pro", "c53", "15c", "13f", "c53", "c71", "smart 10", "a5 opo", "a3 mi", "a10s", "reno 14 f", "a17", "a5x", "a07"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¬Ù„Ø¯ ÙˆØ§ÙŠØ± Ù„ÙŠØ³ Ø§Ù„ÙˆØ§Ù†", models: ["c11-2021", "reno 12f", "y9s", "a3x op", "reno 5", "c21y", "a51 sm", "app a16", "f9", "c63", "a12 sm", "a26", "a1k", "a06", "a52 sm", "13c", "a15 op", "a3 mi", "14c", "a21s", "a56 sm", "smart 9", "y9 prime", "x650", "y9-2019", "x680", "y7-2019", "c75", "y6-2019", "note 13f", "mi 13", "smart 50", "mi 14", "a35", "a3 opo", "a56", "sm a16", "a05s", "sm a55", "smrt 8"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¨ÙˆÙ„Ùˆ Ø§ÙŠÙÙˆÙ†", models: ["ip 11 pro max", "ip11", "ip 15 pro max", "ip 17", "ipx", "ip 13", "ip 12 pro", "ip 7", "ip7+", "ip 17 pro max", "ip 14 pro max", "ip16", "ip15", "ip 11 pro"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¸Ù‡Ø± Ù‚Ø·ÙŠÙÙ‡", models: ["a54 op", "a60 op", "a78", "sm a55", "a18 op", "a58", "a53 op", "c65", "a05", "a25", "relme c67"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø³ÙŠÙ„ÙƒÙˆÙ† Ø¨Ø§Ø±Ø²", models: ["reno 11", "c63", "g530", "c67", "mi not9", "a1k", "reno 11 f", "a55 sm", "a05 sm", "a58", "reno 12", "a25", "a18", "a53 sm", "a60 op"] },
  { type: "Ø¬Ø±Ø§Ø¨ 4k", models: ["a71 sm", "a54 op", "a14", "smart 5", "c33", "reno 7 op", "redmi 12", "c21y", "opoo 54", "a54 sm", "a23", "a13", "ip 14", "a1+", "a2+", "ip 12 pro max", "a04s", "reno 8t", "c55", "ip 15 pro", "a52 sm", "relme 9i", "a12 sm", "a34 sm"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¨Ø§Ù…Ø¨ Ø§Ø´ÙƒØ§Ù„", models: ["c21y", "a53 op", "mi not9s", "a73 sm", "c11-2021", "a24", "relme 5", "a54 sm", "a76", "a04s", "a1+", "a2+", "a12 sm", "a77 op", "a71 sm", "c33", "mi 12", "reno 6", "a14 sm", "a23", "c53", "c55", "a54", "smart 7", "a17 op"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¬Ù„Ø¯ Ø´Ø±ÙƒØ§Øª", models: ["9c mi", "10c mi", "reno 6 op", "a95", "mi 10", "c11-2021", "reno 2f", "a04s", "x624", "vivo y33s", "smart 6", "c25", "a21s", "a03 coer", "a03s", "y8p", "a13", "reno 5", "a12"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¬Ù„Ø¯ Ø§Ù„Ùƒ", models: ["a04", "a24", "x653", "smart 6", "c33", "9082", "c55", "smart 7", "a14", "a04s", "a23", "a20s", "a13", "a680", "a54 op", "a12 sm", "a34 sm", "m11", "a13", "a23", "x657", "y5-2018", "y5-2019", "a15po"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¹Ø¯Ø³Ù‡ Ø§Ø´ÙƒØ§Ù„ ÙˆØ§ÙŠØ± Ù„ÙŠØ³", models: ["a38 op", "c63", "a35 sm", "a58 op", "a79 op", "reno 11 f", "c65", "a78 op", "a3 op", "a98 op", "a60 op"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø´ÙØ§Ù Ø¬Ø¯ÙŠØ¯", models: ["a10", "a05s", "a50", "a06", "c53", "a16 sm", "ip 11", "11 pro max", "ip 12 pro max", "ip 13 pro max", "ip 14 pro max", "ip 15 pro max", "ip 16 pro max", "ip 7+", "ip8+", "ip x max", "ipx", "ip 8", "ip7", "ip 6"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø§Ø´ÙƒØ§Ù„ Ø¹Ø¯Ø³Ù‡", models: ["a13 sm", "redmi 12", "a04", "a14", "a04s", "not 10 mi", "a54 op", "a76 op", "x653", "a11", "x624", "a24", "g530", "reno 8t", "c33"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¨Ø§Ù…Ø¨ Ø­Ù„ÙˆÙŠØ§Øª", models: ["reno 5", "smart 10", "a60", "a79", "a17", "a9 2020", "smart8", "y6-2019", "y7-2019", "smart 9", "a05s", "y5 -2018", "x9 p", "x7a"] },
  { type: "Ø¬Ø±Ø§Ø¨ Ø¨Ø§Ù…Ø¨ Ù…ØµØ±ÙŠ", models: ["mi note 8", "mi 13", "a05", "y7-2019", "y5-2018", "a60", "f9", "reno 13", "y9 prim", "reno 11 f", "a51", "a56", "nova 3i", "a58", "a52", "c67", "a35sm", "c65"] }
];

const search = document.getElementById("search");
const results = document.getElementById("results");
const resultsCount = document.getElementById("resultsCount");
const modelsGrid = document.getElementById("modelsGrid");
const modelsContainer = document.getElementById("modelsContainer");
const backToModels = document.getElementById("backToModels");
const selectedModelTitle = document.getElementById("selectedModelTitle");
const searchTitle = document.getElementById("searchTitle");
const passwordModal = document.getElementById("passwordModal");
const passwordInput = document.getElementById("passwordInput");
const cancelDelete = document.getElementById("cancelDelete");
const confirmDelete = document.getElementById("confirmDelete");

// Ù…ØªØºÙŠØ±Ø§Øª Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø°Ù
let deleteItemIndex = null;
let deleteModelIndex = null;
let activeModelButton = null;
let currentSelectedModel = null;
let searchTimeout = null;
let isSearching = false;

// Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„ÙØ±ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
function getAllUniqueModels() {
  const allModels = [];
  products.forEach(item => {
    item.models.forEach(model => {
      if (!allModels.includes(model)) {
        allModels.push(model);
      }
    });
  });
  return allModels.sort();
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª
function createModelButtons() {
  const uniqueModels = getAllUniqueModels();
  modelsGrid.innerHTML = "";
  
  uniqueModels.forEach(model => {
    const button = document.createElement("button");
    button.className = "model-btn";
    button.textContent = model;
    button.addEventListener("click", function() {
      selectModel(model, this);
    });
    modelsGrid.appendChild(button);
  });
}

// Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¯ÙŠÙ„ Ù…Ø¹ÙŠÙ†
function selectModel(model, button) {
  currentSelectedModel = model;
  isSearching = false;
  
  // Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª
  modelsContainer.classList.add("hidden");
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
  backToModels.classList.add("visible");
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…Ø®ØªØ§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø­Ø«
  selectedModelTitle.textContent = `Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„: ${model}`;
  selectedModelTitle.classList.add("visible");
  searchTitle.classList.remove("visible");
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚
  if (activeModelButton) {
    activeModelButton.classList.remove("active");
  }
  
  // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ ÙƒÙ†Ø´Ø·
  button.classList.add("active");
  activeModelButton = button;
  
  // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„
  displayResultsForModel(model);
  
  // Ù…Ø³Ø­ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«
  search.value = "";
  
  // Ø¥Ø®ÙØ§Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  resultsCount.style.display = "none";
}

// Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
function startSearch() {
  isSearching = true;
  
  // Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª
  modelsContainer.classList.add("hidden");
  
  // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
  backToModels.classList.add("visible");
  
  // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…Ø®ØªØ§Ø±
  selectedModelTitle.classList.remove("visible");
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø·
  if (activeModelButton) {
    activeModelButton.classList.remove("active");
    activeModelButton = null;
  }
  
  currentSelectedModel = null;
}

// Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª
function backToModelsList() {
  // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª
  modelsContainer.classList.remove("hidden");
  
  // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
  backToModels.classList.remove("visible");
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
  selectedModelTitle.classList.remove("visible");
  searchTitle.classList.remove("visible");
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø·
  if (activeModelButton) {
    activeModelButton.classList.remove("active");
    activeModelButton = null;
  }
  
  currentSelectedModel = null;
  isSearching = false;
  
  // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
  displayWelcomeMessage();
  
  // Ø¥Ø®ÙØ§Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  resultsCount.style.display = "none";
  
  // Ù…Ø³Ø­ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø«
  search.value = "";
}

// Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
function displayWelcomeMessage() {
  results.innerHTML = "";
  let welcomeMsg = document.createElement("li");
  welcomeMsg.className = "no-results";
  welcomeMsg.textContent = "Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ù„Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©";
  results.appendChild(welcomeMsg);
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù…ÙˆØ¯ÙŠÙ„ Ù…Ø­Ø¯Ø¯
function displayResultsForModel(model) {
  results.innerHTML = "";
  
  let resultCount = 0;
  
  products.forEach((item, itemIndex) => {
    item.models.forEach((itemModel, modelIndex) => {
      if (itemModel === model) {
        resultCount++;
        let li = document.createElement("li");
        li.innerHTML = `
          <div class="model-info">
            <span class="model-icon">âœ”</span>
            <span>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ <strong>${itemModel}</strong> Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ: ${item.type}</span>
          </div>
          <button class="delete-btn" data-item="${itemIndex}" data-model="${modelIndex}">Ø­Ø°Ù</button>
        `;
        results.appendChild(li);
      }
    });
  });
  
  if (resultCount === 0) {
    let noResults = document.createElement("li");
    noResults.className = "no-results";
    noResults.textContent = "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„";
    results.appendChild(noResults);
  }
  
  // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù
  document.querySelectorAll('.delete-btn').forEach(button => {
    button.addEventListener('click', function() {
      deleteItemIndex = parseInt(this.getAttribute('data-item'));
      deleteModelIndex = parseInt(this.getAttribute('data-model'));
      
      // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
      passwordModal.classList.add('active');
      passwordInput.focus();
    });
  });
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
function displayResultsForSearch(value) {
  results.innerHTML = "";
  
  if (value.trim() === "") {
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ø­Ø« ÙØ§Ø±ØºØ§Ù‹ØŒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
    backToModelsList();
    return;
  }
  
  let resultCount = 0;
  
  products.forEach((item, itemIndex) => {
    item.models.forEach((model, modelIndex) => {
      if (model.toLowerCase().includes(value.toLowerCase())) {
        resultCount++;
        let li = document.createElement("li");
        li.innerHTML = `
          <div class="model-info">
            <span class="model-icon">âœ”</span>
            <span>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ <strong>${model}</strong> Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ: ${item.type}</span>
          </div>
          <button class="delete-btn" data-item="${itemIndex}" data-model="${modelIndex}">Ø­Ø°Ù</button>
        `;
        results.appendChild(li);
      }
    });
  });
  
  // Ø¹Ø±Ø¶ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø­Ø«
  searchTitle.textContent = `Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: "${value}"`;
  searchTitle.classList.add("visible");
  
  // Ø¹Ø±Ø¶ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  if (resultCount > 0) {
    resultsCount.textContent = `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${resultCount} Ù†ØªÙŠØ¬Ø©`;
    resultsCount.style.display = "block";
  } else {
    let noResults = document.createElement("li");
    noResults.className = "no-results";
    noResults.textContent = `Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¨Ø­Ø« Ø¹Ù†: "${value}"`;
    results.appendChild(noResults);
    resultsCount.style.display = "none";
  }
  
  // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù
  document.querySelectorAll('.delete-btn').forEach(button => {
    button.addEventListener('click', function() {
      deleteItemIndex = parseInt(this.getAttribute('data-item'));
      deleteModelIndex = parseInt(this.getAttribute('data-model'));
      
      // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
      passwordModal.classList.add('active');
      passwordInput.focus();
    });
  });
}

// Ø§Ù„Ø¨Ø­Ø« Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù…Ø¹ ØªØ£Ø®ÙŠØ±
search.addEventListener("input", function () {
  // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
  if (searchTimeout) {
    clearTimeout(searchTimeout);
  }
  
  const searchValue = this.value.trim();
  
  if (searchValue !== "") {
    // Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø­Ø« ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
    startSearch();
    
    // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± 300 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
    searchTimeout = setTimeout(() => {
      displayResultsForSearch(searchValue);
    }, 300);
  } else {
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ø­Ø« ÙØ§Ø±ØºØ§Ù‹ØŒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
    backToModelsList();
  }
});

// Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
search.addEventListener("keypress", function (e) {
  if (e.key === "Enter") {
    if (searchTimeout) {
      clearTimeout(searchTimeout);
    }
    const searchValue = this.value.trim();
    if (searchValue !== "") {
      startSearch();
      displayResultsForSearch(searchValue);
    } else {
      backToModelsList();
    }
  }
});

// Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
backToModels.addEventListener("click", backToModelsList);

// ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù
confirmDelete.addEventListener('click', function() {
  if (passwordInput.value === "777") {
    // Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ù…Ù† Ø§Ù„Ù…ØµÙÙˆÙØ©
    products[deleteItemIndex].models.splice(deleteModelIndex, 1);
    
    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ø¯ Ù‡Ù†Ø§Ùƒ Ù…ÙˆØ¯ÙŠÙ„Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ØŒ Ø§Ø­Ø°Ù Ø§Ù„Ù†ÙˆØ¹ ÙƒÙ„Ù‡
    if (products[deleteItemIndex].models.length === 0) {
      products.splice(deleteItemIndex, 1);
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù
    createModelButtons();
    
    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø­Ø« Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
    if (currentSelectedModel) {
      displayResultsForModel(currentSelectedModel);
    } else if (isSearching) {
      displayResultsForSearch(search.value);
    } else {
      backToModelsList();
    }
    
    // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
    passwordModal.classList.remove('active');
    passwordInput.value = "";
    
    // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
    alert("ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­!");
  } else {
    alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!");
    passwordInput.value = "";
    passwordInput.focus();
  }
});

// Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø°Ù
cancelDelete.addEventListener('click', function() {
  passwordModal.classList.remove('active');
  passwordInput.value = "";
  deleteItemIndex = null;
  deleteModelIndex = null;
});

// Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¨Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡Ø§
passwordModal.addEventListener('click', function(e) {
  if (e.target === passwordModal) {
    passwordModal.classList.remove('active');
    passwordInput.value = "";
    deleteItemIndex = null;
    deleteModelIndex = null;
  }
});

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
function initializePage() {
  createModelButtons();
  displayWelcomeMessage();
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
initializePage();
</script>
</body>
</html>
