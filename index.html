<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>مملكة الأصليات – المحل: جنه – المهندس محمود أبو كشك</title>
<style>
body { font-family: Tahoma,sans-serif; background:#f9f9f9; margin:0; padding:20px; text-align:center; }
.logo { background:red; color:white; font-size:22px; font-weight:bold; padding:15px; border-radius:10px; margin-bottom:20px; display:inline-block; box-shadow:0 2px 5px rgba(0,0,0,0.2);}
.product { background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px; margin:15px auto; width:300px; box-shadow:0 2px 5px rgba(0,0,0,0.1); position:relative; }
.product img { width:100%; border-radius:5px; }
.new-badge { position:absolute; top:10px; left:10px; background:red; color:white; padding:5px; font-weight:bold; border-radius:5px; }
.name { font-size:20px; margin:10px 0; color:#333; }
.price { font-size:18px; color:#e91e63; margin:10px 0; }
.button { background-color:#25d366; color:white; padding:10px 15px; border:none; border-radius:5px; font-size:16px; margin:5px; cursor:pointer; }
.cart-btn { background-color:#ff9800; }
</style>
</head>
<body>

<div class="logo">🌟 مملكة الأصليات – المحل: جنه – المهندس محمود أبو كشك 🌟</div>

<h1>منتجات مملكة الأصليات</h1>

<input type="password" id="password" placeholder="ادخل الباسورد 🔥">
<button class="button" onclick="showAllPrices()">عرض الأسعار</button>

<div id="products-container"></div>

<script>
// المنتجات بالعربي، اسم الصورة بالإنجليزي، السعر، والمنتجات الجديدة
const products = [
  { name:"سماعة الوان", image:"شاحن واو جلاكسي.jpg", price:11, new:true, dateAdded:"2025-09-02" },
  { name:"سماعة ايفون", image:"شاحن واو تايب سي.jpg", price:65, new:true, dateAdded:"2025-09-02" },
  { name:"سماعة بلو 21", image:"كابل الك 31.jpg", price:35, new:false },
  { name:"سماعة سامسونج", image:"cable_delven.jpg", price:35, new:false },
  { name:"شاحن التر 02 تايب سي", image:"charger_02.jpg", price:65, new:false },
  { name:"شاحن واو تايب سي", image:"charger_wow.jpg", price:28, new:false },
  { name:"كابل الك 31", image:"cable_k31.jpg", price:40, new:false },
  { name:"كابل دليفن تايب سي", image:"cable_delven_typec.jpg", price:11, new:false }
];

const correctPassword = "7777";
let cart = [];

// دالة اظهار المنتجات
function displayProducts() {
    const container = document.getElementById("products-container");
    container.innerHTML = "";
    const today = new Date();
    products.forEach((p, index) => {
        let isNew = false;
        if(p.new && p.dateAdded){
            const added = new Date(p.dateAdded);
            const diffDays = Math.floor((today - added)/(1000*60*60*24));
            if(diffDays < 20) isNew = true;
        }
        container.innerHTML += `
        <div class="product">
            ${isNew?'<div class="new-badge">منتج جديد</div>':''}
            <img src="${p.image}" alt="${p.name}">
            <div class="name">${p.name}</div>
            <div class="price" id="price-${index}">ادخل الباسورد واعرض السعر</div>
            <button class="button" onclick="orderNow(${index})">اطلب الآن</button>
            <button class="button cart-btn" onclick="addToCart(${index})">أضف إلى السلة</button>
        </div>`;
    });
}

// دالة اظهار كل الأسعار بعد الباسورد
function showAllPrices(){
    const pwd = document.getElementById("password").value;
    products.forEach((p,index)=>{
        const priceDiv = document.getElementById("price-"+index);
        if(pwd===correctPassword){
            priceDiv.textContent = `${p.price} جنيه`;
        } else {
            priceDiv.textContent = "ادخل الباسورد لعرض السعر";
        }
    });
}

// اطلب الآن
function orderNow(index){
    const pwd = document.getElementById("password").value;
    let msg = `المنتج: ${products[index].name}`;
    if(pwd===correctPassword){
        msg += `\nالسعر: ${products[index].price} جنيه`;
    }
    const phone = "01022495795"; // الرقم الصحيح
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
}

// اضف للسلة
function addToCart(index){
    const qty = prompt("كمية المنتج؟","1");
    if(!qty || isNaN(qty)) return;
    cart.push({name:products[index].name, price:products[index].price, qty:Number(qty)});
    alert("تم إضافة المنتج للسلة!");
}

// ارسال السلة
function sendCart(){
    if(cart.length===0){ alert("السلة فارغة!"); return; }
    const pwd = document.getElementById("password").value;
    let msg = "فاتورة المنتجات:\n";
    cart.forEach(item=>{
        msg += `${item.name} x${item.qty}`;
        if(pwd===correctPassword){
            msg += ` - ${item.price*item.qty} جنيه`;
        }
        msg += "\n";
    });
    const phone = "01022495795";
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
    cart = [];
}

// اشعار بالمنتجات الجديدة (مرة واحدة)
if("Notification" in window){
    if(Notification.permission!=="granted"){ Notification.requestPermission(); }
    products.forEach(p=>{
        if(p.new){ new Notification("منتج جديد!", {body:`تم إضافة ${p.name}`}); }
    });
}

displayProducts();
</script>

<button class="button cart-btn" onclick="sendCart()">تم، أرسل السلة</button>

</body>
</html>
