<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>مملكة الأصليات</title>
<style>
body { font-family: Tahoma, sans-serif; background:#f9f9f9; text-align:center; padding:20px; }
.logo { background:#25d366; color:white; font-size:22px; font-weight:bold; padding:15px; border-radius:10px; margin-bottom:20px; display:inline-block; box-shadow:0 2px 5px rgba(0,0,0,0.2);}
.product { background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px; margin:15px; width:250px; display:inline-block; vertical-align:top; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.product img { width:100%; border-radius:5px;}
.name { font-size:18px; margin:10px 0; color:#333; }
.price { font-size:16px; color:#e91e63; margin:5px 0;}
button { background:#25d366; color:white; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; margin:5px;}
.addCart { background:#ff9800;}
</style>
</head>
<body>

<div class="logo">🌟 مملكة الأصليات – المحل: جنه – المهندس محمود أبو كشك 🌟</div>

<h3>ادخل الباسورد لعرض الأسعار 🔥</h3>
<input type="password" id="password" placeholder="ادخل الباسورد">
<div id="featured-products"></div>
<h2>جميع المنتجات</h2>
<div id="regular-products"></div>
<br>
<button onclick="sendCart()">تم تحويل المنتجات</button>

<script>
const correctPassword = "7777";
let cart = [];

// المنتجات بالعربي مع اسم الصورة بالانجليزي
const products = [
  { name: "سماعة الوان", image: "samaa_alwan.jpg", price: 11, dateAdded:"2025-07-01" },
  { name: "سماعة ايفون", image: "samaa_iphone.jpg", price: 65, dateAdded:"2025-07-01" },
  { name: "سماعة بلو 21", image: "blue_21_headphones.jpg", price: 35, dateAdded:"2025-07-01" },
  { name: "سماعة سامسونج", image: "samaa_samsung.jpg", price: 35, dateAdded:"2025-07-01" },
  { name: "شاحن التر 02 تايب سي", image: "charger_02.jpg", price: 65, dateAdded:"2025-07-01" },
  { name: "شاحن واو تايب سي", image: "charger_wao.jpg", price: 28, dateAdded:"2025-09-02" }, // جديد
  { name: "كابل الك 31", image: "cable_k31.jpg", price: 40, dateAdded:"2025-07-01" },
  { name: "كابل دليفن تايب سي", image: "cable_delven_typec.jpg", price: 11, dateAdded:"2025-07-01" },
  { name: "سماعة الوان جديدة", image: "samaa_alwan.jpg", price: 11, dateAdded:"2025-09-02" }, // جديد
  { name: "سماعة ايفون جديدة", image: "samaa_iphone.jpg", price: 65, dateAdded:"2025-09-02" } // جديد
];

const today = new Date();
const featuredContainer = document.getElementById("featured-products");
const regularContainer = document.getElementById("regular-products");

products.forEach((product,index)=>{
    const addedDate = new Date(product.dateAdded);
    const diffDays = Math.floor((today - addedDate)/(1000*60*60*24));

    const productHTML = `
        <div class="product">
            <img src="${product.image}" alt="${product.name}">
            <div class="name">${product.name}</div>
            <div class="price" id="price-${index}">--</div>
            <button onclick="orderNow(${index})">اطلب الآن</button>
            <button class="addCart" onclick="addToCart(${index})">أضف إلى السلة</button>
        </div>
    `;

    if(diffDays <= 20){
        featuredContainer.innerHTML += productHTML;
    } else {
        regularContainer.innerHTML += productHTML;
    }
});

// اطلب الآن
function orderNow(index){
    const pwd = document.getElementById("password").value;
    let msg = `المنتج: ${products[index].name}`;
    if(pwd === correctPassword){
        msg += `\nالسعر: ${products[index].price} جنيه`;
    }
    const phone = "01022495795"; 
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
}

// أضف إلى السلة
function addToCart(index){
    let existing = cart.find(item=>item.index===index);
    if(existing){ existing.qty++; } 
    else { cart.push({index:index,name:products[index].name,price:products[index].price,qty:1}); }
    alert("تم إضافة المنتج للسلة!");
}

// أرسل السلة كاملة
function sendCart(){
    if(cart.length===0){ alert("السلة فارغة!"); return;}
    const pwd = document.getElementById("password").value;
    let msg = "فاتورة المنتجات:\n";
    cart.forEach(item=>{
        msg += `${item.name} x${item.qty}`;
        if(pwd===correctPassword){ msg += ` - ${item.price*item.qty} جنيه`; }
        msg+="\n";
    });
    const phone = "01022495795"; 
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
    window.open(url,"_blank");
    cart=[];
}
</script>
</body>
</html>
